{
  "name": "job_list",
  "description": "List all the current jobs",
  "color": "linear-gradient(rgb(171,71,185), rgb(68,52,212))",
  "iconSrc": "",
  "schema": "[{\"id\":0,\"property\":\"agency_slug\",\"description\":\"\",\"type\":\"string\",\"required\":true},{\"id\":1,\"property\":\"per_page\",\"description\":\"\",\"type\":\"number\",\"required\":false},{\"id\":2,\"property\":\"page\",\"description\":\"\",\"type\":\"number\",\"required\":false},{\"id\":3,\"property\":\"query\",\"description\":\"\",\"type\":\"string\",\"required\":false},{\"id\":4,\"property\":\"include_related_agencies\",\"description\":\"\",\"type\":\"boolean\",\"required\":false},{\"id\":5,\"property\":\"published_at_sort\",\"description\":\"\",\"type\":\"string\",\"required\":false},{\"id\":6,\"property\":\"rank_sort\",\"description\":\"\",\"type\":\"string\",\"required\":false},{\"id\":7,\"property\":\"updated_at_sort\",\"description\":\"\",\"type\":\"string\",\"required\":false},{\"id\":8,\"property\":\"location_sort\",\"description\":\"\",\"type\":\"string\",\"required\":false},{\"id\":9,\"property\":\"job_title_sort\",\"description\":\"\",\"type\":\"string\",\"required\":false},{\"id\":10,\"property\":\"published\",\"description\":\"\",\"type\":\"boolean\",\"required\":false},{\"id\":11,\"property\":\"job_status_id\",\"description\":\"\",\"type\":\"number\",\"required\":false},{\"id\":12,\"property\":\"job_status_ids\",\"description\":\"\",\"type\":\"string\",\"required\":false},{\"id\":13,\"property\":\"job_type_id\",\"description\":\"\",\"type\":\"number\",\"required\":false},{\"id\":14,\"property\":\"country_id\",\"description\":\"\",\"type\":\"number\",\"required\":false},{\"id\":15,\"property\":\"state_id\",\"description\":\"\",\"type\":\"number\",\"required\":false},{\"id\":16,\"property\":\"city\",\"description\":\"\",\"type\":\"string\",\"required\":false},{\"id\":17,\"property\":\"job_category_ids\",\"description\":\"\",\"type\":\"string\",\"required\":false},{\"id\":18,\"property\":\"owned_by_ids\",\"description\":\"\",\"type\":\"string\",\"required\":false},{\"id\":19,\"property\":\"status\",\"description\":\"\",\"type\":\"string\",\"required\":false},{\"id\":20,\"property\":\"job_type\",\"description\":\"\",\"type\":\"string\",\"required\":false},{\"id\":21,\"property\":\"remote_work_allowed\",\"description\":\"\",\"type\":\"boolean\",\"required\":false},{\"id\":22,\"property\":\"serialization_set\",\"description\":\"\",\"type\":\"string\",\"required\":false}]",
  "func": "/*\n* You can use any libraries imported in Flowise\n* You can use properties specified in Output Schema as variables. Ex: Property = userid, Variable = $userid\n* Must return a string value at the end of function\n*/\n\nconst fetch = require('node-fetch');\nconst url = `https://app.loxo.co/api/${$agency_slug}/jobs`;\nconst options = {\n    method: 'GET',\n    headers: {\n        accept: 'application/json',\n       authorization: `Bearer ${$vars.loxo_hr4professionals_token}`\n    }\n};\ntry {\n    const response = await fetch(url, options);\n    const text = await response.text();\n    return text;\n} catch (error) {\n    console.error(error);\n    return '';\n}"
}